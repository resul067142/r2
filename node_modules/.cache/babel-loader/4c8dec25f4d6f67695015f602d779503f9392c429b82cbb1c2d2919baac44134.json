{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-15abe2d6\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"container\"\n};\nconst _hoisted_2 = {\n  class: \"mb-3\"\n};\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"exampleFormControlInput1\",\n  class: \"form-label\"\n}, \"Düşüncelerini Yaz\", -1 /* HOISTED */));\nconst _hoisted_4 = {\n  class: \"mb-3 text-center\"\n};\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"hr\", null, null, -1 /* HOISTED */));\nconst _hoisted_6 = {\n  class: \"mb-3\"\n};\nconst _hoisted_7 = {\n  class: \"list-group list-group-numbered\"\n};\nconst _hoisted_8 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"li\", {\n  class: \"list-group-item d-flex justify-content-between align-items-start\"\n}, [/*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"ms-2 me-auto\"\n}, [/*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"fw-bold\"\n}, \"Birinci entry\"), /*#__PURE__*/_createTextVNode(\" Tarih \")]), /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"badge bg-primary rounded-pill\"\n}, \"Yorum Sayısı\")], -1 /* HOISTED */));\nconst _hoisted_9 = {\n  class: \"ms-2 me-auto\"\n};\nconst _hoisted_10 = {\n  class: \"fw-bold\"\n};\nconst _hoisted_11 = {\n  class: \"badge bg-primary rounded-pill\"\n};\nconst _hoisted_12 = [\"onClick\"];\nconst _hoisted_13 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"bi bi-x\"\n}, null, -1 /* HOISTED */));\nconst _hoisted_14 = [_hoisted_13];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    id: \"exampleFormControlInput1\",\n    placeholder: \"Bugün çok mutluyum\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.gonderi = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.gonderi]])]), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"button\", {\n    onClick: _cache[1] || (_cache[1] = (...args) => $setup.handleClick && $setup.handleClick(...args)),\n    type: \"button\",\n    class: \"btn btn-dark\"\n  }, \"Gönder\")]), _hoisted_5, _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"ol\", _hoisted_7, [_hoisted_8, (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.gonderiler, g => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: g.id,\n      class: \"...\"\n    }, [_createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"div\", _hoisted_10, _toDisplayString(g.gonderi), 1 /* TEXT */), _createTextVNode(\" \" + _toDisplayString(g.tarih), 1 /* TEXT */)]), _createElementVNode(\"span\", _hoisted_11, _toDisplayString(g.yorumlar.length), 1 /* TEXT */), _createElementVNode(\"span\", {\n      onClick: $event => $setup.handleDelete(g.id),\n      class: \"badge bg-danger mx-2\"\n    }, _hoisted_14, 8 /* PROPS */, _hoisted_12)]);\n  }), 128 /* KEYED_FRAGMENT */))])])]);\n}","map":{"version":3,"mappings":";;;EAEOA,KAAK,EAAC;AAAW;;EACfA,KAAK,EAAC;AAAM;gEACfC,oBAAkF;EAA3EC,GAAG,EAAC,0BAA0B;EAACF,KAAK,EAAC;GAAa,mBAAiB;;EAIvEA,KAAK,EAAC;AAAkB;gEAG7BC,oBAAM;;EACDD,KAAK,EAAC;AAAM;;EACXA,KAAK,EAAC;AAAgC;gEACxCC,oBAMK;EANDD,KAAK,EAAC;AAAkE,iBAC1EC,oBAGM;EAHDD,KAAK,EAAC;AAAc,iBACvBC,oBAAwC;EAAnCD,KAAK,EAAC;AAAS,GAAC,eAAa,iCAAM,SAE1C,kBACAC,oBAA+D;EAAzDD,KAAK,EAAC;AAA+B,GAAC,cAAY;;EAGnDA,KAAK,EAAC;AAAc;;EAClBA,KAAK,EAAC;AAAS;;EAGhBA,KAAK,EAAC;AAA+B;;iEACoBC,oBAAuB;EAApBD,KAAK,EAAC;AAAS;qBAAlBG,WAAuB;;uBAzB9FC,oBAgCM,OAhCNC,UAgCM,GA/BJJ,oBAIM,OAJNK,UAIM,GAHJC,UAAkF,kBAClFN,oBAC0D;IADnDO,IAAI,EAAC,MAAM;IAACR,KAAK,EAAC,cAAc;IAACS,EAAE,EAAC,0BAA0B;IAC9DC,WAAW,EAAC,oBAAoB;+DAAUC,cAAO;iDAAPA,cAAO,OAE1DV,oBAEM,OAFNW,UAEM,GADJX,oBAA+E;IAAtEY,OAAK,yCAAEF,iDAAW;IAAEH,IAAI,EAAC,QAAQ;IAACR,KAAK,EAAC;KAAe,QAAM,KAExEc,UAAM,EACNb,oBAoBM,OApBNc,UAoBM,GAnBJd,oBAkBK,MAlBLe,UAkBK,GAjBHC,UAMK,qBACLb,oBAQKc,6BARWP,iBAAU,EAAfQ,CAAC;yBAAZf,oBAQK;MARwBgB,GAAG,EAAED,CAAC,CAACV,EAAE;MAAET,KAAK,EAAC;QAC5CC,oBAGM,OAHNoB,UAGM,GAFJpB,oBAAwC,OAAxCqB,WAAwC,mBAAjBH,CAAC,CAACI,OAAO,mCAAQ,GACxC,oBAAEJ,CAAC,CAACK,KAAK,oBAEXvB,oBAAwE,QAAxEwB,WAAwE,mBAA1BN,CAAC,CAACO,QAAQ,CAACC,MAAM,kBAC/D1B,oBAA6F;MAAtFY,OAAK,YAAEF,mBAAY,CAACQ,CAAC,CAACV,EAAE;MAAGT,KAAK,EAAC","names":["class","_createElementVNode","for","_hoisted_13","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","type","id","placeholder","$setup","_hoisted_4","onClick","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_Fragment","g","key","_hoisted_9","_hoisted_10","gonderi","tarih","_hoisted_11","yorumlar","length"],"sourceRoot":"","sources":["/home/ubuntu-1/PROJE/r2/src/views/Share.vue"],"sourcesContent":["<template>\n\n  <div class=\"container\">\n    <div class=\"mb-3\">\n      <label for=\"exampleFormControlInput1\" class=\"form-label\">Düşüncelerini Yaz</label>\n      <input type=\"text\" class=\"form-control\" id=\"exampleFormControlInput1\"\n             placeholder=\"Bugün çok mutluyum\" v-model=\"gonderi\">\n    </div>\n    <div class=\"mb-3 text-center\">\n      <button @click=\"handleClick\" type=\"button\" class=\"btn btn-dark\">Gönder</button>\n    </div>\n    <hr />\n    <div class=\"mb-3\">\n      <ol class=\"list-group list-group-numbered\">\n        <li class=\"list-group-item d-flex justify-content-between align-items-start\">\n          <div class=\"ms-2 me-auto\">\n            <div class=\"fw-bold\">Birinci entry</div>\n            Tarih\n          </div>\n          <span class=\"badge bg-primary rounded-pill\">Yorum Sayısı</span>\n        </li>\n        <li v-for=\"g in gonderiler\" :key=\"g.id\" class=\"...\">\n          <div class=\"ms-2 me-auto\">\n            <div class=\"fw-bold\">{{g.gonderi}}</div>\n            {{g.tarih}}\n          </div>\n          <span class=\"badge bg-primary rounded-pill\">{{g.yorumlar.length}}</span>\n          <span @click=\"handleDelete(g.id)\" class=\"badge bg-danger mx-2\"><i class=\"bi bi-x\"></i></span>\n\n        </li>\n\n      </ol>\n    </div>\n\n  </div>\n\n</template>\n\n<script>\nimport {ref, onMounted} from 'vue'\nimport getUser from '../composables/getUser'\nimport {addDoc, collection,serverTimestamp, onSnapshot, query, where, deleteDoc, doc} from 'firebase/firestore'\nimport {db} from '../firebase/config'\n\nexport default {\n  setup() {\n\n    const {kullanici} = getUser();\n    const gonderi = ref('')\n    const gonderiler = ref([])\n\n    const handleClick = async () => {\n\n      if (kullanici.value) {\n\n        await addDoc(collection(db, 'gonderiler'), {\n          gKullaniciAd: kullanici.value.displayName,\n          gonderi: gonderi.value,\n          tarih: serverTimestamp(),\n          yorumlar: []\n        })\n        gonderi.value = ''\n      }\n    }\n\n    const handleDelete=async (id)=>{\n      //console.log(id);\n\n      await deleteDoc(doc(db, \"gonderiler\", id))\n    }\n\n          onMounted(() => {\n            const q = query(collection(db, \"gonderiler\"), where(\"gKullaniciAd\", \"==\", kullanici.value.displayName));\n\n            onSnapshot(q, querySnapshot => {\n              const dizi = [];\n              querySnapshot.forEach((doc) => {\n                dizi.push({...doc.data(), id: doc.id});\n              })\n              gonderiler.value = dizi;\n            })\n          })\n\n          return {handleClick, gonderi, gonderiler, handleDelete}\n        },\n        }\n</script>\n\n<style scoped>\n.container{\n  max-width: 600px;\n  padding-top: 50px;\n}\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}